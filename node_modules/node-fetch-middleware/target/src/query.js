"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var url_1 = require("./url");
var params = require("jquery-param");
exports.query = function (url, init, next) {
    if (init && init.query) {
        if (typeof init.query === 'string')
            url = url_1.set(url_1.get(url) + '?' + init.query);
        else {
            var qs = params(init.query);
            url = url_1.set(url_1.get(url) + '?' + qs);
        }
        delete init.query;
    }
    return next(url, init);
};
//# sourceMappingURL=query.js.map